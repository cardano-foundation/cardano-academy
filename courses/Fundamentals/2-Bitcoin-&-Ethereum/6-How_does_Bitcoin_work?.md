**How does Bitcoin work?**

Let's dig a little deeper to understand how Bitcoin achieves Byzantine Fault Tolerance by allowing all network participants to validate blocks and transactions. As mentioned earlier, Bitcoin leverages proof of work as a consensus mechanism. 

The Bitcoin network relies on a mining process which works as follows:
In a vast distributed network of nodes, new transactions are sent out to all miners who collect these transactions and bundle them into potential blocks. Each miner competes to solve a complex puzzle for their block, creating a unique identifier called a “block hash". This process proves they invested effort, hence "proof of work".
The first miner to solve the puzzle shares their block with everyone else. If everyone agrees that the block is valid, it becomes part of the permanent record, the "blockchain." This cycle repeats as miners create new blocks, each referencing the previous one, forming a secure, cryptographically linked chain of blocks, hence the “blockchain”.
Let's take a closer look at some of the key features on the Bitcoin protocol.  

A Bitcoin **transaction** is a transfer of value between users. The sender in the transaction is referencing the previous transaction received into their account, proving that they are allowed to spend the value they are sending. A transaction can have several different inputs to make up the value to be transferred. If the total output value is higher than the amount a sender wants to transfer,  the Bitcoin protocol sends the difference back to the sender. A common analogy is ‘cash in, cash out’. If you buy a book that costs 8 coins, and you send 10 coins, you get 2 coins back as change. The value of the input(s) in a transaction must always match the value of the output(s). In other words, sum of inputs = sum of outputs - transaction fee.

**Proof of work (PoW)** is based on mining nodes competing to guess a pseudo-random number known as a nonce (‘number used once’). The maths problem is solved by combining this number with block data and passing it through a hash function until you get the desired output which matches certain criteria, for example a hash starting with nine zeros. This desired output can be tweaked with what's called a ‘difficulty level’. So if there are more miners, with advanced mining equipment competing for the next block, the desired output hash might now have twelve leading zeros. The goal is to have a block mined every ten minutes.

Whichever miner guesses this nonce first is rewarded with a set amount of bitcoin. These maths puzzles are said to be ‘difficult to solve, but easy to verify’. When a miner solves the puzzle, they then share the block with the network. All the other miners then verify that the solution is legitimate. This is the concept of ‘inclusive accountability’ in that everyone can ‘check each other's homework’.

The miner can then add the block to their copy of the blockchain and the transaction is considered complete. The miner also includes in the block the output hash from the previous block, so all blocks are ‘chained’ together. Each miner has a copy of the blockchain on their computer. Everyone trusts the blockchain which has the most computational work gone into it… This is where the term ‘longest blockchain’ comes from. 

Each valid block contains a block hash representing the work done by the miner, hence the name proof of work. Trust in blockchain is derived from the fact that even a small change in the input hash, will change (invalidate) the output hash. Proof of work  has been resilient to all manner of different attacks since 2009. Generally, a successful attack would involve a malicious attacker acquiring 51% of the network’s mining power. This would require so much time and computational power, that it would not be viable, as the cost incurred would be greater than any potential rewards for attacking the network.

A miner’s chances of finding the desired hash and solving the puzzle is equal to their mining power, relative to their competitors. A mining pool is when smaller miners pool their resources, so together they have a better chance of mining the next block. They then split any bitcoin mining rewards in relation to how much processing power each contributed.
